{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { getCartItems, removeFromCart, increaseCount, decreaseCount } from \"../Cart/cartSlice\";\nimport Item from \"./Cart/Item\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar Cart = function Cart() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    cartItems = _useState2[0],\n    setCartItems = _useState2[1];\n  useEffect(function () {\n    var fetchCartItems = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var items = yield getCartItems();\n          setCartItems(items);\n        } catch (error) {\n          console.error(\"Error fetching cart items:\", error);\n        }\n      });\n      return function fetchCartItems() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchCartItems();\n  }, []);\n  var updateCartItems = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var items = yield getCartItems();\n        setCartItems(items);\n      } catch (error) {\n        console.error(\"Error updating cart items:\", error);\n      }\n    });\n    return function updateCartItems() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleIncreaseCount = function () {\n    var _ref3 = _asyncToGenerator(function* (productId) {\n      yield increaseCount(productId);\n      yield updateCartItems();\n    });\n    return function handleIncreaseCount(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleDecreaseCount = function () {\n    var _ref4 = _asyncToGenerator(function* (productId) {\n      yield decreaseCount(productId);\n      yield updateCartItems();\n    });\n    return function handleDecreaseCount(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var handleRemoveFromCart = function () {\n    var _ref5 = _asyncToGenerator(function* (productId) {\n      yield removeFromCart(productId);\n      yield updateCartItems();\n    });\n    return function handleRemoveFromCart(_x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  return _jsx(View, {\n    style: styles.container,\n    children: cartItems.length === 0 ? _jsx(Text, {\n      style: styles.emptyText,\n      children: \"Ch\\u01B0a th\\xEAm s\\u1EA3n ph\\u1EA9m\"\n    }) : _jsx(_Fragment, {\n      children: _jsx(ScrollView, {\n        children: cartItems.map(function (item, index) {\n          return _jsx(Item, {\n            item: item,\n            onIncreaseCount: function onIncreaseCount() {\n              return handleIncreaseCount(item.id);\n            },\n            onDecreaseCount: function onDecreaseCount() {\n              return handleDecreaseCount(item.id);\n            },\n            onRemoveFromCart: function onRemoveFromCart() {\n              return handleRemoveFromCart(item.id);\n            }\n          }, index);\n        })\n      })\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 35,\n    flex: 1,\n    padding: 10,\n    backgroundColor: '#E8E8E8'\n  },\n  emptyText: {\n    fontSize: 16,\n    textAlign: \"center\",\n    marginTop: 20\n  },\n  totalContainer: {\n    borderTopWidth: 3,\n    borderColor: \"#ddd\",\n    paddingVertical: 10,\n    justifyContent: 'flex-end'\n  },\n  totalText: {\n    fontSize: 18,\n    fontWeight: \"bold\"\n  }\n});\nexport default Cart;","map":{"version":3,"names":["React","useEffect","useState","View","Text","FlatList","TouchableOpacity","StyleSheet","ScrollView","getCartItems","removeFromCart","increaseCount","decreaseCount","Item","jsx","_jsx","Fragment","_Fragment","Cart","_useState","_useState2","_slicedToArray","cartItems","setCartItems","fetchCartItems","_ref","_asyncToGenerator","items","error","console","apply","arguments","updateCartItems","_ref2","handleIncreaseCount","_ref3","productId","_x","handleDecreaseCount","_ref4","_x2","handleRemoveFromCart","_ref5","_x3","style","styles","container","children","length","emptyText","map","item","index","onIncreaseCount","id","onDecreaseCount","onRemoveFromCart","create","marginTop","flex","padding","backgroundColor","fontSize","textAlign","totalContainer","borderTopWidth","borderColor","paddingVertical","justifyContent","totalText","fontWeight"],"sources":["D:/TranDinhKhang/Example01/src/screens/Cart.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { View, Text, FlatList, TouchableOpacity, StyleSheet, ScrollView } from \"react-native\";\r\nimport { getCartItems, removeFromCart, increaseCount, decreaseCount } from \"../Cart/cartSlice\";\r\nimport Item from \"./Cart/Item\";\r\n\r\nconst Cart = () => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch cart items when the component mounts\r\n    const fetchCartItems = async () => {\r\n      try {\r\n        const items = await getCartItems();\r\n        setCartItems(items);\r\n      } catch (error) {\r\n        console.error(\"Error fetching cart items:\", error);\r\n      }\r\n    };\r\n    fetchCartItems();\r\n  }, []);\r\n\r\n  // Function to update the cart items after an action\r\n  const updateCartItems = async () => {\r\n    try {\r\n      const items = await getCartItems();\r\n      setCartItems(items);\r\n    } catch (error) {\r\n      console.error(\"Error updating cart items:\", error);\r\n    }\r\n  };\r\n\r\n  // Function to handle increase count action\r\n  const handleIncreaseCount = async (productId) => {\r\n    await increaseCount(productId);\r\n    await updateCartItems();\r\n  };\r\n\r\n  // Function to handle decrease count action\r\n  const handleDecreaseCount = async (productId) => {\r\n    await decreaseCount(productId);\r\n    await updateCartItems();\r\n  };\r\n\r\n  // Function to handle remove from cart action\r\n  const handleRemoveFromCart = async (productId) => {\r\n    await removeFromCart(productId);\r\n    await updateCartItems();\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {cartItems.length === 0 ? (\r\n        <Text style={styles.emptyText}>Chưa thêm sản phẩm</Text>\r\n      ) : (\r\n        <>\r\n        <ScrollView>\r\n          {cartItems.map((item, index) => (\r\n            <Item\r\n              key={index}\r\n              item={item}\r\n              onIncreaseCount={() => handleIncreaseCount(item.id)}\r\n              onDecreaseCount={() => handleDecreaseCount(item.id)}\r\n              onRemoveFromCart={() => handleRemoveFromCart(item.id)}\r\n            />\r\n          ))}\r\n          </ScrollView>          \r\n        </>  \r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    marginTop: 35,\r\n    flex: 1,\r\n    padding: 10,\r\n    backgroundColor:'#E8E8E8'\r\n  },\r\n  emptyText: {\r\n    fontSize: 16,\r\n    textAlign: \"center\",\r\n    marginTop: 20,\r\n  },\r\n  totalContainer: {\r\n    borderTopWidth: 3,\r\n    borderColor: \"#ddd\",\r\n    paddingVertical: 10,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  totalText: {\r\n    fontSize: 18,\r\n    fontWeight: \"bold\",\r\n  },\r\n});\r\n\r\nexport default Cart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}